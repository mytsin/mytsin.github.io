<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hello World</title>
      <link href="/posts/undefined.html"/>
      <url>/posts/undefined.html</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><a id="more"></a><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Goaccess - Nginx日志分析/图表生成工具</title>
      <link href="/posts/undefined.html"/>
      <url>/posts/undefined.html</url>
      
        <content type="html"><![CDATA[<p><strong>GoAccess</strong>是一款开源的且具有交互视图界面的<strong>实时Web日志分析工具</strong>，可分析<strong>Apache/Nginx</strong>等WEB日志，同时还支持生成HTML、JSON、CSV等数据报告。GoAccess既可以在终端中展示结果，也可以生成 HTML 报表在浏览器中查看，且生成的报表足够酷炫，这也是我为什么一直在折腾，想要实现的原因。我花了几天时间，查阅了大量的资料，终于实现了在浏览器中查看HTML报表</p><a id="more"></a><p>先看一下最终效果：<a href="mytsin.com/analysis.html">mytsin.com/analysis.html已失效</a></p><h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><p>系统：CentOS 6.10</p><p>web服务：Nginx</p><p>面板：[宝塔面板]<a href="https://www.bt.cn/download/linux.html" target="_blank" rel="noopener">https://www.bt.cn/download/linux.html</a>)</p><p>日志文件：access.log</p><p>工具：Goaccess-1.2</p><p>中文网站：<a href="goaccess.cc">goaccess.cc</a></p><p>官方网站：<a href="goaccess.io">goaccess.io</a></p><ul><li>安装前请先备份好相关数据（例如网站数据库等）</li><li>确定日志文件的所在目录</li><li>以下日志文件、网站目录，根据自己的实际情况进行修改</li><li>演示的日志文件及目录为 /home/wwwlogs/access.log</li><li>演示的网站目录为 /www/wwwroot/mytsin.com/</li></ul><h2 id="安装Goaccess"><a href="#安装Goaccess" class="headerlink" title="安装Goaccess"></a>安装Goaccess</h2><p>虽然可以通过<strong>apt-get</strong>或<strong>yum+epel</strong>进行安装但是版本有点低功能上有些差异，但建议下载源码进行编译安装</p><p>首先安装依赖包</p><p>CentOS/Fedora/RHEL：<strong>yum install ncurses-devel geoip-devel</strong><br>Ubuntu/Debian：<strong>apt-get install libncursesw5-dev libgeoip-dev</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#安装依赖</span><br><span class="line">yum -y install libmaxminddb-devel #下载源码</span><br><span class="line">wget https://tar.goaccess.io/goaccess-1.2.tar.gz</span><br><span class="line">#解压</span><br><span class="line">tar -xzvf goaccess-1.2.tar.gz</span><br><span class="line">#进入目录</span><br><span class="line">cd goaccess-1.2/</span><br><span class="line">#编译安装</span><br><span class="line">./configure --enable-utf8 --enable-geoip=mmdb --with-openssl --with-libmaxminddb-devel</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><p>如有需要，也可以安装<strong>GeoIP</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cd /usr/local/src</span><br><span class="line">wget http://geolite.maxmind.com/downloadgeoip/api/c/GeoIP-1.4.6.tar.gz</span><br><span class="line">wget http://geolite.maxmind.com/downloadgeoip/database/GeoLiteCountry/GeoIP.dat.gz</span><br><span class="line">tar xzvf GeoIP-1.4.6.tar.gz</span><br><span class="line">cd GeoIP-1.4.6</span><br><span class="line">./configure &amp;&amp; make &amp;&amp; make install</span><br><span class="line">cd ..</span><br><span class="line">mv GeoIP.dat.gz /usr/local/share/GeoIP/</span><br></pre></td></tr></table></figure><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><h3 id="1、终端下查看"><a href="#1、终端下查看" class="headerlink" title="1、终端下查看"></a>1、终端下查看</h3><p>分析日志：<code>goaccess -f /home/wwwlogs/access.log --log-format=COMBINED</code></p><p><strong>常用参数说明：</strong></p><p>-f 指定要分析的日志/path/to/log</p><p>–log-format 日志的格式，LNMP默认格式为：COMBINED</p><p>-a 在Host模块是否启用点开IP显示user-agents</p><p>终端下效果如下图：</p><p><strong>操作快捷键</strong></p><p>q 退出当前小窗口、模块视图或退出goaccess</p><p>o 打开当前激活模块的详细视图，当前激活模块会以黄色显示</p><p>0-9 数字0-9可以控制切换各个模块</p><p>c 改变当前配色</p><p>/ 搜索</p><p>F1 帮助</p><p>F5 窗口重新绘图</p><p>2、生成图表网页</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">goaccess -f /home/wwwlogs/access.log --log-format=COMBINED -a &gt; www/wwwroot/mytsin.com/analysis.html</span><br></pre></td></tr></table></figure><p>access.log：日志文件路径（请填写绝对路径）</p><p>/mytsin.com/：为您站点根目录，根据自身情况修改</p><p>运行后，就自动生成一个酷炫的网页图表，可以直接在浏览器里打开查看</p><h2 id="定时生成HTML报告到站点目录"><a href="#定时生成HTML报告到站点目录" class="headerlink" title="定时生成HTML报告到站点目录"></a>定时生成HTML报告到站点目录</h2><p>每次都去手动生成报告太麻烦啦，有没有更简便的方法？写个简单的shell脚本自动生成就搞定啦~</p><p>假设文件要放<code>在/root/</code>目录下</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /root</span><br><span class="line">vim goaccess.sh</span><br></pre></td></tr></table></figure><p>将下面的内容另存为<code>goaccess.sh</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin</span><br><span class="line"></span><br><span class="line">export PATH</span><br><span class="line"></span><br><span class="line">goaccess /home/wwwlogs/access.log -a -o www/wwwroot/mytsin.com/analysis.html --log-format=COMBINED</span><br></pre></td></tr></table></figure><p>/access.log：日志文件路径（请自行替换，填写绝对路径）</p><p>/mytsin.com/：为您站点根目录，根据自身情况修改</p><p>别忘记加上可执行权限：<code>chmod u+x goaccess.sh</code>，再使用<code>crontab</code>每小时生成一次HTML报告</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#添加计划任务</span><br><span class="line">crontab -e</span><br><span class="line">#添加以下内容，/root/goaccess.sh为上面脚本的绝对路径</span><br><span class="line">*/15 * * * * /root/goaccess.sh &gt; /dev/null</span><br><span class="line">#重新加载cron配置和重启cron服务</span><br><span class="line">service crond reload</span><br><span class="line">service crond restart</span><br></pre></td></tr></table></figure><p>大功告成，这样<code>Goaccess</code>每隔15分钟就会为我们生成一次HTML日志报告，访问网站<a href="https://mytsin.com/analysis.html" target="_blank" rel="noopener">https://mytsin.com/analysis.html已失效</a>就可以看到直观的HTML报告啦</p><p>参考资料：</p><p><a href="https://www.vpser.net/manage/goaccess.html" target="_blank" rel="noopener">Nginx日志分析/图表生成工具 - goaccess</a></p><p><a href="https://www.centos.bz/2018/07/centos%E5%AE%89%E8%A3%85goaccess%E5%BF%AB%E9%80%9F%E6%96%B9%E4%BE%BF%E7%9A%84%E5%88%86%E6%9E%90%E7%BD%91%E7%AB%99%E6%97%A5%E5%BF%97/" target="_blank" rel="noopener">CentOS安装GoAccess快速方便的分析网站日志</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>世界，你好</title>
      <link href="/posts/undefined.html"/>
      <url>/posts/undefined.html</url>
      
        <content type="html"><![CDATA[<p>这个世界，你好！</p><p>我对这个世界，既熟悉又陌生。</p><p>“熟悉”的是，我接触它已经十几年了。在小的时候就开始玩电脑了，不过……技能树点歪了，点到了网游。<a href="http://qqtang.qq.com/" target="_blank" rel="noopener">QQ堂</a>、<a href="http://dnf.qq.com/" target="_blank" rel="noopener">DNF</a>、<a href="https://csol.tiancity.com/homepage/v6/" target="_blank" rel="noopener">CSOL</a>……一个个耐（xiao）人（hao）寻（shi）味（guang）的游戏，为此乐此不疲，陪伴了我度过了童年。</p><p>“陌生”的是，我看到的仅仅是这个世界的表面，从未对这个世界，有更深层次的了解，它隐藏在界面之下的世界，是怎样的一副景象？是绚丽，是枯燥，是复杂，是简单？</p><a id="more"></a><p>我崇尚过黑客精神（Geek，指对某一方面极热的人），白客、红客……这些都吸引着我，向深层次探索。用Ghost安装过雨木风林、深度的Windows XP，也装过<a href="https://www.kali.org/" target="_blank" rel="noopener">Kail Linux</a>、<a href="https://www.ubuntu.com/download/desktop" target="_blank" rel="noopener">Ubuntu</a>的Linux系统，Linux相对于我，一个用惯了Windows图形化界面，很不友好。我还记得我想输入到命令行的第一个命令——“ls”，一直搞不清楚这个”l”是不是“i” 的大写，输了好几遍，都提示了错误，最后在一个网友的提示下，我才明白这是“L”的小写。经历这个之后，我逐渐丧失了对Linux的兴趣，重回Windowsd的热情拥抱。</p><p>对技术探索，浅尝辄止，始终没有在这条道路下深入下去。想学编程，也只是囤积资料，下完就丢在硬盘里一个漆黑的角落里，再也就没打开学习过。对于软件，我也只是浅层的了解。Photoshop、Microsoft PowerPoint、 会声会影，我也是只是会一些基础。每当有人夸我会这些，我也只是一笑而过。我对我自己特别了解，知道自己真正会的有多少，真正到需要用到某个功能时，才会匆匆去百度教程。</p><p>现如今，我已经是一名大二学生了。浑浑噩噩度过了大一，也没有学会什么新的知识，技术也是吃老本。想做事愈来愈多，时间却愈来愈少，我应该做些改变了。</p><p>很久之前，我就想要做一个博客，但因为要学lan习duo，也没有经济基础，一直没有实现（找借口/逃）。恰巧看到<a href="http://im.dimpurr.com/" target="_blank" rel="noopener">Dimpurr Cheny</a>和<a href="https://blog.rhilip.info/" target="_blank" rel="noopener">R酱小窝</a>的博客，分享自己的想法、做一些教程帮助他人，这又重新激发了我建站的想法，在<a href="http://www.namesilo.com" target="_blank" rel="noopener">namesilo</a>上查到 <a href="http://catb.org/~esr/faqs/hacker-howto.html" target="_blank" rel="noopener">mytsin.com</a>无人购买，于是乎，花了8.99$注册了一个域名。博客目前使用的主题是<a href="http://blog.dimpurr.com/slackview/" target="_blank" rel="noopener">Slackview – 多级响应式</a>，由<a href="http://im.dimpurr.com/" target="_blank" rel="noopener">Dimpurr Cheny</a>创造。我参考了一些网上的教程，经历了一些探索、曲折之后，终于把自己的博客建立好了。</p><p>爱因斯坦如是说，</p><blockquote><p>用一个大圆圈代表我学到的知识，但是圆圈之外是那么多的空白，对我来说就意味着无知。而且圆圈越大，它的圆周就越长，它与外界空白的接触面也就越大。由此可见，我感到不懂的地方还大得很呢！</p></blockquote><p>我没有爱因斯坦那样的智商、才华，也在这广阔的知识海洋，感受到了自己的无知。这一次，我对计算机技术的探索，希望能走得更远，更广。在这个博客，我将记录在专业学习、编程相关、机器学习、技术分享、生活点滴等方面的分享。</p><p>Eric StevenRaymond在《<a href="http://catb.org/~esr/faqs/hacker-howto.html" target="_blank" rel="noopener">How To Become A Hacker</a>》中有一首禅诗，我引用它来结尾：</p><blockquote><p>To follow the path:<br>look to the master,<br>follow the master,<br>walk with the master,<br>see through the master,<br>become the master.<br>遵循此法：<br>仰慕大师，<br>跟随大师，<br>比肩大师，<br>超越大师，<br>成为大师。</p></blockquote>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
